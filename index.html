<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tower Defense game v·ªÅ ·ª©ng d·ª•ng c√¥ng ngh·ªá trong n√¥ng nghi·ªáp Vi·ªát Nam">
    <title>Technological Agriculture Tower Defense</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Main Menu Overlay -->
    <aside id="main-menu" class="overlay show" role="dialog" aria-labelledby="menu-title">
        <div class="modal">
            <h1 id="menu-title">Technological Agriculture Tower Defense</h1>
            <h2 class="subtitle">Vai tr√≤ ·ª©ng d·ª•ng c√¥ng ngh·ªá trong n√¥ng nghi·ªáp Vi·ªát Nam</h2>
            
            <section class="research-questions" aria-label="C√¢u h·ªèi nghi√™n c·ª©u">
                <h3>C√¢u h·ªèi nghi√™n c·ª©u:</h3>
                <ol>
                    <li>C√¥ng ngh·ªá n√†o ƒëang ƒë∆∞·ª£c √°p d·ª•ng trong n√¥ng nghi·ªáp Vi·ªát Nam, v√† hi·ªáu qu·∫£ ra sao?</li>
                    <li>C√°c v·∫•n ƒë·ªÅ n√¥ng nghi·ªáp truy·ªÅn th·ªëng g·∫∑p ph·∫£i m√† c√¥ng ngh·ªá c√≥ th·ªÉ gi·∫£i quy·∫øt l√† g√¨?</li>
                    <li>·ª®ng d·ª•ng c√¥ng ngh·ªá c√≥ t√°c ƒë·ªông x√£ h·ªôi, kinh t·∫ø hay m√¥i tr∆∞·ªùng nh∆∞ th·∫ø n√†o?</li>
                </ol>
            </section>
            
            <div class="instructions">
                <strong>H∆∞·ªõng d·∫´n:</strong>
                <p>Ch·∫∑n ƒë∆∞·ªùng ƒëi c·ªßa s√¢u b·ªánh b·∫±ng c√°ch ƒë·∫∑t c√°c th√°p c√¥ng ngh·ªá. M·ªói th√°p c√≥ vai tr√≤ ri√™ng. N√¢ng c·∫•p ch√∫ng ƒë·ªÉ m·∫°nh h∆°n. S·ªëng s√≥t qua 10 ƒë·ª£t ƒë·ªÉ ho√†n th√†nh!</p>
            </div>
            
            <button id="start-game-btn" class="btn-primary btn-lg">B·∫Øt ƒê·∫ßu Tr√≤ Ch∆°i</button>
        </div>
    </aside>

    <!-- Main Game Container -->
    <main id="game-container" class="game-container hidden">
        <!-- Top Status Bar -->
        <header class="ui-bar top-bar" role="banner">
            <div class="stat-group">
                <span class="stat-label">üí∞ Ti·ªÅn:</span>
                <span id="money" class="stat-value">500</span>
            </div>
            <div class="stat-group">
                <span class="stat-label">‚ù§Ô∏è M·∫°ng:</span>
                <span id="lives" class="stat-value">20</span>
            </div>
            <div class="stat-group">
                <span class="stat-label">üåä ƒê·ª£t:</span>
                <span id="wave" class="stat-value">0/10</span>
            </div>
            <button id="start-wave-btn" class="btn-primary" disabled aria-label="B·∫Øt ƒë·∫ßu ƒë·ª£t ti·∫øp theo">
                B·∫Øt ƒë·∫ßu ƒê·ª£t
            </button>
        </header>

        <!-- Game Area -->
        <div class="main-content">
            <!-- Canvas Container -->
            <section class="canvas-container" aria-label="Khu v·ª±c ch∆°i game">
                <canvas id="game-canvas" aria-label="Game canvas"></canvas>
            </section>

            <!-- Side Panel -->
            <aside class="side-panel" role="complementary">
                <!-- Tower Shop -->
                <section id="tower-shop" class="panel-section">
                    <h3 class="panel-title">üè™ C·ª≠a H√†ng C√¥ng Ngh·ªá</h3>
                    <div id="tower-shop-content" class="tower-shop-content">
                        <!-- Tower buttons generated by JS -->
                    </div>
                </section>

                <!-- Tower Info Panel -->
                <section id="tower-info" class="panel-section hidden">
                    <h3 class="panel-title">
                        <span id="tower-info-name">Th√¥ng Tin Th√°p</span>
                    </h3>
                    <ul id="tower-info-details" class="tower-stats-list">
                        <li>Ch·ªçn m·ªôt th√°p ƒë·ªÉ xem th√¥ng tin</li>
                    </ul>
                    <div class="button-group">
                        <button id="upgrade-btn" class="btn-upgrade btn-block">N√¢ng c·∫•p</button>
                        <button id="sell-btn" class="btn-danger btn-block">B√°n</button>
                    </div>
                </section>
            </aside>
        </div>

        <!-- Bottom Action Bar -->
        <footer class="ui-bar bottom-bar">
            <button id="research-questions-btn" class="btn-secondary">
                üìö Xem C√¢u H·ªèi Nghi√™n C·ª©u
            </button>
            <button id="open-reflection-btn" class="btn-secondary">
                üìù Ph√¢n T√≠ch & Ph·∫£n √Ånh
            </button>
        </footer>
    </main>

    <!-- Research Questions Modal -->
    <aside id="research-modal" class="overlay hidden" role="dialog" aria-labelledby="research-title">
        <div class="modal modal-md">
            <h2 id="research-title">üìö C√¢u H·ªèi Nghi√™n C·ª©u</h2>
            <section class="research-questions">
                <ol>
                    <li>C√¥ng ngh·ªá n√†o ƒëang ƒë∆∞·ª£c √°p d·ª•ng trong n√¥ng nghi·ªáp Vi·ªát Nam, v√† hi·ªáu qu·∫£ ra sao?</li>
                    <li>C√°c v·∫•n ƒë·ªÅ n√¥ng nghi·ªáp truy·ªÅn th·ªëng g·∫∑p ph·∫£i m√† c√¥ng ngh·ªá c√≥ th·ªÉ gi·∫£i quy·∫øt l√† g√¨?</li>
                    <li>·ª®ng d·ª•ng c√¥ng ngh·ªá c√≥ t√°c ƒë·ªông x√£ h·ªôi, kinh t·∫ø hay m√¥i tr∆∞·ªùng nh∆∞ th·∫ø n√†o?</li>
                </ol>
            </section>
            <button id="close-research-btn" class="btn-primary btn-lg">ƒê√≥ng</button>
        </div>
    </aside>

    <!-- Reflection Modal -->
    <aside id="reflection-modal" class="overlay hidden" role="dialog" aria-labelledby="reflection-title">
        <div class="modal modal-lg">
            <h2 id="reflection-title">üìù Ph√¢n T√≠ch & Ph·∫£n √Ånh</h2>
            
            <section id="final-stats" class="stats-section">
                <!-- Stats generated by JS -->
            </section>
            
            <section class="reflection-prompt">
                <label for="reflection-input">
                    <strong>Theo b·∫°n, c√¥ng ngh·ªá n√†o hi·ªáu qu·∫£ nh·∫•t trong vi·ªác b·∫£o v·ªá m√πa m√†ng?</strong>
                    <span class="label-hint">Ghi nh·∫≠n √Ω ki·∫øn c·ªßa b·∫°n:</span>
                </label>
                <textarea 
                    id="reflection-input" 
                    rows="6" 
                    placeholder="1. C√¥ng ngh·ªá t√¥i th·∫•y hi·ªáu qu·∫£ nh·∫•t l√†...&#10;2. L√Ω do v√¨...&#10;3. ƒêi·ªÅu n√†y cho th·∫•y..."
                    aria-label="√î nh·∫≠p ph·∫£n √°nh c·ªßa b·∫°n"
                ></textarea>
            </section>
            
            <button id="close-reflection-btn" class="btn-primary btn-lg">ƒê√≥ng</button>
        </div>
    </aside>

    <!-- Wave Summary Modal -->
    <aside id="wave-summary-modal" class="overlay hidden" role="dialog" aria-labelledby="wave-summary-title">
        <div class="modal modal-md">
            <div id="wave-summary-content">
                <h2 id="wave-summary-title">K·∫øt Qu·∫£ ƒê·ª£t</h2>
                <!-- Content generated by JS -->
            </div>
            <button id="next-wave-btn" class="btn-primary btn-lg">Ti·∫øp T·ª•c</button>
        </div>
    </aside>

    <!-- Game Over Modal -->
    <aside id="game-over-modal" class="overlay hidden" role="dialog" aria-labelledby="game-over-title">
        <div class="modal modal-md">
            <h2 id="game-over-title" class="modal-title-error">‚ùå Nghi√™n C·ª©u Th·∫•t B·∫°i!</h2>
            <p class="modal-message">S√¢u b·ªánh ƒë√£ ph√° h·ªßy m√πa m√†ng. H√£y th·ª≠ l·∫°i v√† √°p d·ª•ng c√¥ng ngh·ªá hi·ªáu qu·∫£ h∆°n!</p>
            <button id="restart-game-btn" class="btn-primary btn-lg">üîÑ Ch∆°i L·∫°i</button>
        </div>
    </aside>

    <!-- Notification Container (created by JS) -->
    <!-- Scripts -->
    <script src="game.js" type="module"></script>
</body>
</html>
